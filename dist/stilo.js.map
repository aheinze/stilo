{"version":3,"file":"stilo.js","sources":["../js/api/utils.js","../js/api/dom.js","../js/api/stilo-element.js","../js/element/drop.js","../js/element/modal.js","../js/element/tab.js","../js/element/offcanvas.js","../js/api/stilo-directive.js","../js/api/directive.js","../js/directive/svg.js"],"sourcesContent":["\nexport function toArray(list) {\n    for (var a=[], l=list.length; l--; a[l]=list[l]); return a;\n}\n\n\n","import { toArray } from './utils';\n\nexport let domReady = new Promise(resolve => {\n    \n    if (document.readyState == 'complete' || document.readyState == 'interactive') {\n        requestAnimationFrame(() => resolve() );\n    } else {\n        document.addEventListener('DOMContentLoaded', () => requestAnimationFrame(() => resolve() ));\n    }\n});\n\nexport function observe(element, fn, config) {\n\n    config = Object.assign({\n        attributes: true,\n        childList: true,\n    }, config || {});\n\n    return (new MutationObserver(mutations => fn(mutations))).observe(element, config);\n}\n\nexport function attr(element, name, value) {\n    if (value !== undefined) {\n        element[value==='' ? 'removeAttribute':'setAttribute'](name, value);\n        return element;\n    }\n    return element.getAttribute(name);\n};\n\nexport function find(element, selector) {\n    return toArray(element.querySelectorAll(selector)).map(ele => $dom(ele));\n};\n\nexport function on(element, name, delegate, fn) {\n\n    if (!fn) {\n       element.addEventListener(name, arguments[2]);\n    } else {\n        element.addEventListener(name, function (e) {\n            \n            let target = e.target;\n            \n            while (target !== element) {\n\n                if (target.matches(delegate)){\n                    return fn.apply($dom(target), arguments);\n                }\n                target = target.parentNode;\n            }\n        });\n    }\n\n    return element;\n};\n\nexport function hasClass(element, name) {\n    return element.classList.contains(name);\n}\n\nexport function addClass(element, name) {\n    name.split(' ').forEach(cls => element.classList.add(cls)); \n    return element;\n}\n\nexport function removeClass(element, name) {\n    name.split(' ').forEach(cls => element.classList.remove(cls));\n    return element;\n}\n\nexport function css(element, prop, value){\n    \n    var args = arguments, props = {};\n\n    if (!args[1] && typeof(args[0]) == 'string') {\n        return window.getComputedStyle(element)[args[1]];\n    }\n\n    if (args[1]) {\n        props[args[0]] = args[1];\n    } else if (args.length == 2) {\n        props = args[0] || {};\n    }\n\n    for (let prop in props) {\n        element[prop] = props[prop];\n    }\n\n    return element;\n}\n\nexport function trigger(element, name, data) {\n    let evt = document.createEvent('HTMLEvents');\n    evt.data = data;\n    evt.initEvent(name, true, false);\n    element.dispatchEvent(evt);\n    return element;\n}\n\nexport function position(element) {\n    return { left: element.offsetLeft, top: element.offsetTop };\n}\n\nexport function offset(element) {\n    let rect = element.getBoundingClientRect(),\n        top  = rect.top + window.pageYOffset - document.documentElement.clientTop,\n        left = rect.left + window.pageXOffset - document.documentElement.clientLeft;\n\n    return { rect, top, left };\n}\n\nexport function offsetParent(element) {\n    return $dom(element.offsetParent);\n}\n\nexport function remove(element) {\n    element.parentNode.removeChild(element);\n}\n\nexport function html(element, content) {\n    if (content === undefined ) { \n        return element.innerHTML; \n    }\n    element.innerHTML = String(content.nodeType ? content.outerHTML : content);\n    return element;\n}\n\nexport function text(element, content) {\n    if (content === undefined) { \n        return element.textContent; \n    }\n    element.textContent = content;\n    return element;\n}\n\nexport function replaceWith(element, content) {\n\n    let ele;\n\n    if (typeof(content) === 'string') {\n        let tmp = document.createElement('div');\n        tmp.innerHTML = content;\n        ele = tmp.children[0];\n    } else {\n        ele = content;\n    }\n\n    element.parentNode.replaceChild(ele, element);\n    \n    return $dom(ele);\n}\n\nexport function children(element, selector) {\n    return toArray(element.children).filter(ele => ele.matches(selector)).map(ele => $dom(ele)); \n}\n\nexport function parent(element) {\n    return element.parentNode && $dom(element.parentNode); \n}\n\nexport function parents(element, selector) {\n    let list = [], _el = element;\n\n    while(_ele.parentNode) {\n\n        if (!selector || _ele.parentNode.matches(selector)) {\n            list.push($dom(_ele.parentNode));\n        }\n        _ele = _ele.parentNode;\n    }\n\n    return list;\n}\n\nexport function prev(element) {\n    return element.previousElementSibling && $dom(element.previousElementSibling);\n}\n\nexport function next(element) {\n    return element.nextElementSibling && $dom(element.nextElementSibling);\n}\n\n\nexport function $dom(element) {\n    \n    let fns = {\n        attr, find, parent, children, prev, next,\n        on, trigger, \n        hasClass, addClass, removeClass, \n        position, offset, offsetParent,\n        html, text, replaceWith, remove\n    };\n\n    Object.keys(fns).forEach(fn => {\n        element[`\\$${fn}`] = function() { return fns[fn].apply(element, [element, ...arguments]); }\n    });\n\n    return element;\n}","import { $dom, domReady } from './dom';\n\nexport class StiloElement extends HTMLElement {\n\n    constructor() {\n        super();\n        $dom(this);\n    }\n\n    connectedCallback() {\n        this.connect();\n        domReady.then(() => requestAnimationFrame(() => this.ready()));\n    }\n    disconnectedCallback() { this.disconnect(); }\n    attributeChangedCallback() { this.disconnect(); }\n\n    ready() {}\n    connect() {}\n    disconnect() {}\n}","import { StiloElement } from './../api/stilo-element';\n\nclass StiloDrop extends StiloElement {\n  \n    connect() {\n\n        console.log(this)\n    }\n}\n\ncustomElements.define('s-drop', StiloDrop);","import { StiloElement } from './../api/stilo-element';\n\nclass StiloModal extends StiloElement {\n  \n    connect() {\n\n        console.log(this)\n    }\n}\n\ncustomElements.define('s-modal', StiloModal);","import { StiloElement } from './../api/stilo-element';\n\n\nclass StiloTab extends StiloElement {\n\n\n    ready() {\n\n        var tab = this;\n\n        this.$on('click', 's-tabs a', function(e) {\n            \n            e.preventDefault();\n            \n            if (this.classList.contains('s-active')) {\n                return;\n            }\n\n            let index = Array.prototype.indexOf.call(this.parentNode.children, this);\n\n            tab.select(index);\n        });\n\n        this.select(0);\n    }\n\n    select(index) {\n\n        let activeClass = this.$attr('activeClass') || 's-active';\n        let tabs = this.$find('s-tabs > a');\n        let contents = this.$find('s-content > div');\n\n        tabs.forEach((tab, i) => tab.classList[ i === index ? 'add':'remove'](activeClass));\n        contents.forEach((content, i) => content.classList[ i === index ? 'add':'remove'](activeClass));\n\n        this.$trigger('s-tab-select', {index});\n    }\n}\n\ncustomElements.define('s-tab', StiloTab);","import { StiloElement } from './../api/stilo-element';\nimport { on } from './../api/dom';\n\n\non(document.documentElement, 'click', '[data-offcanvas-open]', function(e) {\n\n    e.preventDefault();\n\n    let offcanvas = document.querySelector(this.getAttribute('data-offcanvas-open') || this.href);\n\n    if (offcanvas && offcanvas.open) {\n        offcanvas.open();\n    }\n});\n\n\nclass StiloOffcanvas extends StiloElement {\n\n    ready() {\n\n        this.contentElement = this.children[0];\n\n        this.$on('click', e => {\n\n            if (e.target == this) {\n                this.close();\n            }\n        })\n        .$on('click', '[data-offcanvas-close]', e => this.close() )\n        .$on('transitionend', e => {\n\n            if (this.contentElement && e.target === this.contentElement && !this.isOpen) {\n                this.style.display = '';\n            }\n        });\n    }\n\n    open() {\n\n        this.isOpen = true;\n\n        if (!this.$hasClass('open')) {\n            this.$trigger('s-offcanvas-open');\n            this.style.display = 'block';\n            this.offsetWidth && this.$addClass('open');\n        }\n    }\n\n    close() {\n        this.isOpen = false;\n        this.$trigger('s-offcanvas-close');\n        this.$removeClass('open');\n    }\n}\n\ncustomElements.define('s-offcanvas', StiloOffcanvas);","import { $dom, domReady } from './dom';\n\nexport class StiloDirective {\n\n    constructor(element, option) {\n        this.element = $dom(element);\n        this.option = option;\n        domReady.then(() => requestAnimationFrame(() => this.ready()));\n    }\n\n    ready() {}\n}","import { $dom, domReady, observe } from './dom';\nimport { StiloDirective as Directive } from './stilo-directive';\n\nlet directives = {}\n\nexport function register(name, def) {\n    directives[name] = def;\n}\n\nexport function init(root) {\n    \n    domReady.then(() => {\n        \n        root = $dom(root || document.body);\n\n        let names = Object.keys(directives);\n        let selector = names.map(name => `[s-${name}]`).join(',');\n\n        if (!selector) {\n            return;\n        }\n\n        root.$find(selector).forEach(element => {\n            names.forEach(name => {\n                if (!element.hasAttribute(`s-${name}`)) {\n                    return\n                }\n                new directives[name](element, element.getAttribute(`s-${name}`));\n                element.removeAttribute(`s-${name}`);\n            });\n        });\n    });\n}\n\ndomReady.then(() => {\n\n    observe(document.body, mutations => {\n\n        mutations.forEach(({addedNodes, removedNodes, target}) => {\n\n            for (let i=0;i < addedNodes.length;i++) {\n\n                if (addedNodes[i].nodeType == Node.ELEMENT_NODE) {\n                    init(addedNodes[i]);\n                }\n            }\n        });\n    });\n\n    init()\n});\n\nexport let StiloDirective = Directive;","import { register, StiloDirective } from './../api/directive';\n\nlet cache = {};\n\nregister('svg', class StiloSvg extends StiloDirective {\n    \n    ready() {\n\n        let url = this.element.$attr('src') || this.option;\n\n        if (!url.trim()) {\n            return;\n        }\n\n        if (!cache[url]) {\n            cache[url] = fetch(url).then(response => response.text());\n        }\n\n        cache[url].then(content => {\n\n            let attrs = {\n                id:this.element.$attr('id'),\n                style:this.element.$attr('style'),\n                'class':this.element.$attr('class'),\n                width:this.element.$attr('width') || '',\n                height:this.element.$attr('height') || ''\n            };\n\n            this.element = this.element.$replaceWith(content);\n\n            Object.keys(attrs).forEach(attr => attrs[attr] && this.element.$attr(attr, attrs[attr]));\n        });\n    }\n});\n"],"names":["StiloDirective","Directive"],"mappings":"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"}